# ================================
# CONFIGURAÇÕES DO BANCO DE DADOS
# ================================

# PostgreSQL Database URL
# Formato: postgresql://username:password@localhost:5432/database_name
DATABASE_URL="postgresql://postgres:password@localhost:5432/medical_system"

# ================================
# CONFIGURAÇÕES DE SEGURANÇA
# ================================

# JWT Secret (gere uma chave forte em produção)
JWT_SECRET="your-super-secret-jwt-key-change-in-production"
JWT_REFRESH_SECRET="your-super-secret-refresh-key-change-in-production"

# Configurações de sessão por tipo de usuário
JWT_ACCESS_TOKEN_EXPIRY="15m" # Tokens de acesso padrão
JWT_MEDICAL_SESSION_EXPIRY="6h" # Sessões médicas estendidas (6 horas)
JWT_REFRESH_TOKEN_EXPIRY="7d" # Tokens de refresh
AUTO_LOGOUT_DISABLED_FOR_DOCTORS="true" # Desabilita logout automático para médicos

# Encryption key para dados sensíveis (32 caracteres) - LEGACY
ENCRYPTION_KEY="your-32-character-encryption-key-here"

# ================================
# CONFIGURAÇÕES LGPD
# ================================

# Chaves de criptografia LGPD (64 caracteres hex) - Rotação de chaves
ENCRYPTION_KEY_V1="your-64-character-hex-encryption-key-v1-here-change-in-production"
ENCRYPTION_KEY_V2="your-64-character-hex-encryption-key-v2-here-change-in-production"
CURRENT_KEY_VERSION="v1"

# Salt para indexação de busca (permite busca sem descriptografar)
SEARCH_SALT="your-search-salt-for-indexing-change-in-production"

# Chave para pseudonimização reversível
PSEUDONYMIZATION_KEY="your-pseudonymization-key-change-in-production"

# Configurações de retenção de dados (em dias)
ENCRYPTION_MAX_AGE_DAYS="365"
# DADOS MÉDICOS: RETENÇÃO PERMANENTE - NÃO EXCLUIR AUTOMATICAMENTE
DATA_RETENTION_DAYS="-1" # -1 = Retenção permanente para dados médicos
MEDICAL_DATA_PERMANENT="true" # Dados médicos nunca são excluídos automaticamente

# ================================
# CONFIGURAÇÕES 2FA
# ================================

# Configurações do Two-Factor Authentication
TWO_FACTOR_SECRET="your-2fa-secret-key-change-in-production"
TWO_FACTOR_ISSUER="Sistema Médico LGPD"
TWO_FACTOR_WINDOW="1" # Janela de tolerância para códigos TOTP

# ================================
# CONFIGURAÇÕES DE EMAIL
# ================================

# Email removido - sistema agora usa apenas Telegram
# EMAIL_HOST="smtp.gmail.com"
# EMAIL_PORT=587
# EMAIL_USER="your-email@gmail.com"
# EMAIL_PASS="your-app-password"
# EMAIL_FROM="Dr. João Vitor Viana <your-email@gmail.com>"

# ================================
# CONFIGURAÇÕES DE NOTIFICAÇÕES
# ================================

# WhatsApp Business API
WHATSAPP_TOKEN="your-whatsapp-business-token"
WHATSAPP_PHONE_ID="your-phone-number-id"

# Telegram Bot
TELEGRAM_BOT_TOKEN="your-telegram-bot-token"
TELEGRAM_CHAT_ID="your-telegram-chat-id"

# ================================
# CONFIGURAÇÕES DE BACKUP
# ================================

# Configurações do backup automático
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *" # Todo dia às 2h da manhã
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH="./backups"

# AWS S3 para backup em nuvem (opcional)
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="medical-system-backups"

# ================================
# CONFIGURAÇÕES DE AMBIENTE
# ================================

NODE_ENV="development"
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# ================================
# CONFIGURAÇÕES DE RATE LIMITING
# ================================

# Limites por minuto
RATE_LIMIT_LOGIN=5
RATE_LIMIT_API=100
RATE_LIMIT_UPLOAD=10

# ================================
# CONFIGURAÇÕES DE AUDITORIA
# ================================

# Retenção de logs de auditoria (em dias)
AUDIT_LOG_RETENTION=90

# ================================
# CONFIGURAÇÕES DE UPLOAD
# ================================

# Tamanho máximo de upload (em MB)
MAX_UPLOAD_SIZE=50

# Tipos de arquivo permitidos
ALLOWED_FILE_TYPES="image/jpeg,image/png,image/gif,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"

# ================================
# CONFIGURAÇÕES DE SESSÃO
# ================================

# Duração da sessão (em milissegundos)
SESSION_MAX_AGE=86400000 # 24 horas

# ================================
# CONFIGURAÇÕES DE MONITORAMENTO
# ================================

# Sentry para monitoramento de erros (opcional)
SENTRY_DSN="your-sentry-dsn"

# ================================
# CONFIGURAÇÕES DE DESENVOLVIMENTO
# ================================

# Debug mode
DEBUG=false

# Logs detalhados
VERBOSE_LOGGING=false